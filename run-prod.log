================================ 
Run started: Mon 01/12/2026 23:39:32.83 
Working dir: D:\DDominikGit\IdleGarageTycoon 
================================ 
=== Build images === 
Compose can now delegate builds to bake for better performance.
 To do so, set COMPOSE_BAKE=true.
#0 building with "desktop-linux" instance using docker driver

#1 [api internal] load build definition from Dockerfile
#1 transferring dockerfile: 1.01kB done
#1 DONE 0.0s

#2 [migrate internal] load build definition from Dockerfile
#2 transferring dockerfile: 1.01kB done
#2 DONE 0.0s

#3 [api internal] load metadata for mcr.microsoft.com/dotnet/sdk:9.0
#3 DONE 0.1s

#4 [api internal] load metadata for mcr.microsoft.com/dotnet/aspnet:9.0
#4 DONE 0.1s

#5 [migrate internal] load .dockerignore
#5 transferring context: 2B done
#5 DONE 0.0s

#6 [api internal] load .dockerignore
#6 transferring context: 2B done
#6 DONE 0.0s

#7 [migrate internal] load build context
#7 DONE 0.0s

#8 [api internal] load build context
#8 DONE 0.0s

#9 [api migrator 1/5] FROM mcr.microsoft.com/dotnet/sdk:9.0@sha256:90872f8e7f1fd2b93989b81fb7f152c3bef4fe817470a3227abaa18c873dba60
#9 resolve mcr.microsoft.com/dotnet/sdk:9.0@sha256:90872f8e7f1fd2b93989b81fb7f152c3bef4fe817470a3227abaa18c873dba60
#9 resolve mcr.microsoft.com/dotnet/sdk:9.0@sha256:90872f8e7f1fd2b93989b81fb7f152c3bef4fe817470a3227abaa18c873dba60 0.3s done
#9 resolve mcr.microsoft.com/dotnet/sdk:9.0@sha256:90872f8e7f1fd2b93989b81fb7f152c3bef4fe817470a3227abaa18c873dba60 0.3s done
#9 DONE 0.3s

#7 [migrate internal] load build context
#7 transferring context: 16.65kB 0.0s done
#7 DONE 0.0s

#8 [api internal] load build context
#8 transferring context: 16.65kB 0.0s done
#8 DONE 0.1s

#10 [migrate migrator 2/5] WORKDIR /src
#10 CACHED

#11 [api runtime 1/3] FROM mcr.microsoft.com/dotnet/aspnet:9.0@sha256:22bcafd1f3c3bec34af587d205c631380352b15eeb52f9376f7cb3f6489c1f6f
#11 resolve mcr.microsoft.com/dotnet/aspnet:9.0@sha256:22bcafd1f3c3bec34af587d205c631380352b15eeb52f9376f7cb3f6489c1f6f 0.4s done
#11 DONE 0.4s

#12 [migrate migrator 3/5] COPY . .
#12 DONE 0.4s

#13 [api build 3/5] COPY . .
#13 CACHED

#14 [migrate migrator 4/5] RUN rm -rf /root/.nuget/packages /root/.dotnet/tools
#14 DONE 0.5s

#15 [api build 4/5] RUN dotnet restore "IdleGarageBackend.csproj"
#15 1.736   Determining projects to restore...
#15 ...

#16 [migrate migrator 5/5] RUN dotnet tool install --global dotnet-ef --version 9.*
#16 7.895 Tools directory '/root/.dotnet/tools' is not currently on the PATH environment variable.
#16 7.895 If you are using bash, you can add it to your profile by running the following command:
#16 7.895 
#16 7.895 cat << \EOF >> ~/.bash_profile
#16 7.895 # Add .NET Core SDK tools
#16 7.895 export PATH="$PATH:/root/.dotnet/tools"
#16 7.895 EOF
#16 7.895 
#16 7.895 You can add it to the current session by running the following command:
#16 7.895 
#16 7.895 export PATH="$PATH:/root/.dotnet/tools"
#16 7.895 
#16 7.900 You can invoke the tool using the following command: dotnet-ef
#16 7.900 Tool 'dotnet-ef' (version '9.0.11') was successfully installed.
#16 DONE 8.0s

#17 [migrate] exporting to image
#17 exporting layers
#17 exporting layers 3.2s done
#17 exporting manifest sha256:b2a238d2b2e4b775f9e55e97dd5cd316845acd2af9916dace4387462e657c825 0.0s done
#17 exporting config sha256:9e6113b1a99591681c1e39861c224c1badc0f0f34f2bd79b29d7f66ea201df39 0.1s done
#17 exporting attestation manifest sha256:435480c2d4d3b16f585ad380e8642613a8b14f126ba9b20ef1310d3680c66905
#17 ...

#15 [api build 4/5] RUN dotnet restore "IdleGarageBackend.csproj"
#15 11.60   Restored /src/IdleGarageBackend.csproj (in 9.26 sec).
#15 DONE 12.0s

#17 [migrate] exporting to image
#17 exporting attestation manifest sha256:435480c2d4d3b16f585ad380e8642613a8b14f126ba9b20ef1310d3680c66905 0.2s done
#17 exporting manifest list sha256:c0fc127f9dcef76d4d80c84bc0307a72c7d4e12c138cebe2be35e58fd3c16418
#17 exporting manifest list sha256:c0fc127f9dcef76d4d80c84bc0307a72c7d4e12c138cebe2be35e58fd3c16418 0.0s done
#17 naming to docker.io/library/idlegaragetycoon-migrate:latest done
#17 unpacking to docker.io/library/idlegaragetycoon-migrate:latest
#17 unpacking to docker.io/library/idlegaragetycoon-migrate:latest 0.4s done
#17 DONE 4.1s

#18 [api build 5/5] RUN dotnet publish "IdleGarageBackend.csproj" -c Release -o /app/publish
#18 ...

#19 [migrate] resolving provenance for metadata file
#19 DONE 0.0s

#18 [api build 5/5] RUN dotnet publish "IdleGarageBackend.csproj" -c Release -o /app/publish
#18 1.838   Determining projects to restore...
#18 2.650   All projects are up-to-date for restore.
#18 8.603   IdleGarageBackend -> /src/bin/Release/net9.0/IdleGarageBackend.dll
#18 9.043   IdleGarageBackend -> /app/publish/
#18 DONE 9.2s

#20 [api runtime 2/3] WORKDIR /app
#20 CACHED

#21 [api runtime 3/3] COPY --from=build /app/publish .
#21 CACHED

#22 [api] exporting to image
#22 exporting layers done
#22 exporting manifest sha256:4bc88ab1fbe32633d9fa679abd5e76df12fcf5f9540627c29d229a574f7dcb14 done
#22 exporting config sha256:1d180cf09221ee88c549b9bf36393b763961766f9a7368d42c8edfc0ba59823b done
#22 exporting attestation manifest sha256:61477baf9d90c7a46cb7b7022a41db3eed649fc58792a6cdb62bc354e039e646 0.0s done
#22 exporting manifest list sha256:f9e85683cf05edea0b2c76c877ae0e0a1338504796a19174dc4ea0cc1e8a7187 0.0s done
#22 naming to docker.io/library/idlegaragetycoon-api:latest done
#22 unpacking to docker.io/library/idlegaragetycoon-api:latest 0.0s done
#22 DONE 0.1s

#23 [api] resolving provenance for metadata file
#23 DONE 0.0s

#24 [web internal] load build definition from Dockerfile
#24 transferring dockerfile: 391B done
#24 DONE 0.0s

#25 [web internal] load metadata for docker.io/library/nginx:alpine
#25 ...

#26 [web internal] load metadata for docker.io/library/node:20-alpine
#26 DONE 0.6s

#25 [web internal] load metadata for docker.io/library/nginx:alpine
#25 DONE 0.7s

#27 [web internal] load .dockerignore
#27 transferring context: 2B done
#27 DONE 0.0s

#28 [web internal] load build context
#28 DONE 0.0s

#29 [web build 1/6] FROM docker.io/library/node:20-alpine@sha256:658d0f63e501824d6c23e06d4bb95c71e7d704537c9d9272f488ac03a370d448
#29 resolve docker.io/library/node:20-alpine@sha256:658d0f63e501824d6c23e06d4bb95c71e7d704537c9d9272f488ac03a370d448 0.0s done
#29 DONE 0.0s

#30 [web stage-1 1/3] FROM docker.io/library/nginx:alpine@sha256:c083c3799197cfff91fe5c3c558db3d2eea65ccbbfd419fa42a64d2c39a24027
#30 resolve docker.io/library/nginx:alpine@sha256:c083c3799197cfff91fe5c3c558db3d2eea65ccbbfd419fa42a64d2c39a24027 0.0s done
#30 DONE 0.0s

#28 [web internal] load build context
#28 transferring context: 934B done
#28 DONE 0.0s

#31 [web build 4/6] RUN npm ci
#31 CACHED

#32 [web stage-1 2/3] COPY nginx.conf /etc/nginx/conf.d/default.conf
#32 CACHED

#33 [web build 6/6] RUN npm run build
#33 CACHED

#34 [web build 3/6] COPY package*.json ./
#34 CACHED

#35 [web build 2/6] WORKDIR /app
#35 CACHED

#36 [web build 5/6] COPY . .
#36 CACHED

#37 [web stage-1 3/3] COPY --from=build /app/dist /usr/share/nginx/html
#37 CACHED

#38 [web] exporting to image
#38 exporting layers done
#38 exporting manifest sha256:bd49ab3aa530f089898ccbd7f044f607507b8387367a9017ed1e7144fce28f3c done
#38 exporting config sha256:84a011f58bbf8ab83d03e5c0a575f610657251c7c3b22baf7dfec94fc696ca8b done
#38 exporting attestation manifest sha256:d9d4fbbb77d26d274eb3edaca0cc73b2fa099bbc73ca2e2edfebccaa69ed6021 0.0s done
#38 exporting manifest list sha256:cffcdfcdaadae0b067cd948d3b38ddd9e19d7b8bc833aeff7a26152382bc8ca9 0.0s done
#38 naming to docker.io/library/idlegaragetycoon-web:latest
#38 naming to docker.io/library/idlegaragetycoon-web:latest done
#38 unpacking to docker.io/library/idlegaragetycoon-web:latest 0.0s done
#38 DONE 0.1s

#39 [web] resolving provenance for metadata file
#39 DONE 0.0s
 api  Built
 migrate  Built
 web  Built
=== Start DB === 
 Container idlegaragetycoon-db-1  Running
=== Run EF migrations === 
Using DB_CONN=Host=db;Port=5432;Database=idlegarage;Username=root;Password=root 
 Container idlegaragetycoon-db-1  Running
Build started...
Build succeeded.
fail: Microsoft.EntityFrameworkCore.Database.Command[20102]
      Failed executing DbCommand (27ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT "MigrationId", "ProductVersion"
      FROM "__EFMigrationsHistory"
      ORDER BY "MigrationId";
Failed executing DbCommand (27ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
info: Microsoft.EntityFrameworkCore.Migrations[20411]
      Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
info: Microsoft.EntityFrameworkCore.Migrations[20402]
      Applying migration '20260112205117_Initial'.
Applying migration '20260112205117_Initial'.
Done.
=== Start API + WEB === 
 Container idlegaragetycoon-db-1  Running
 Container idlegaragetycoon-api-1  Creating
 Container idlegaragetycoon-api-1  Created
 Container idlegaragetycoon-web-1  Creating
 Container idlegaragetycoon-web-1  Created
 Container idlegaragetycoon-db-1  Waiting
 Container idlegaragetycoon-db-1  Healthy
 Container idlegaragetycoon-api-1  Starting
 Container idlegaragetycoon-api-1  Started
 Container idlegaragetycoon-web-1  Starting
 Container idlegaragetycoon-web-1  Started
=== Status === 
NAME                     IMAGE                  COMMAND                  SERVICE   CREATED         STATUS                   PORTS
idlegaragetycoon-api-1   idlegaragetycoon-api   "dotnet IdleGarageBa…"   api       2 seconds ago   Up 1 second              5026/tcp
idlegaragetycoon-db-1    postgres:16-alpine     "docker-entrypoint.s…"   db        7 minutes ago   Up 7 minutes (healthy)   0.0.0.0:3254->5432/tcp
idlegaragetycoon-web-1   idlegaragetycoon-web   "/docker-entrypoint.…"   web       1 second ago    Up Less than a second    0.0.0.0:80->80/tcp
✅ Kesz. 
Run finished: Mon 01/12/2026 23:40:26.85 
